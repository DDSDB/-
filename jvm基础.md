# JVM基础

## 路线图
内存管理
- Java内存
- 垃圾收集器

虚拟机执行子系统
- 类加载机制

高效并发
- Java内存模型
- 线程
- JUC


## 内存管理
Java虚拟机在执行Java程序时，将Java管理的内存区域分为以下几个区域：
- 程序计数器
- Java虚拟机栈
- 本地方法栈
- Java堆
- 方法区
- 运行时常量池
- 直接内存

程序计数器：线程私有，当前线程执行字节码的行号指示器，控制程序流的指示器、分支、循环、跳转、异常处理、线程恢复等功能。

Java虚拟机栈：线程私有，生命周期和线程相同：每个方法被调用到执行完毕的时候，就对应一个栈帧在虚拟机栈中从入栈到出栈的过程。深度大于虚拟允许的深度，会抛出StackOverflowError和，栈扩展无法申请到足够的内存会排除OutOfMemoryError。

本地方法栈： 为虚拟机用到的Native方法服务，深度大于虚拟允许的深度，会抛出StackOverflowError和，栈扩展无法申请到足够的内存会排除OutOfMemoryError。Hot-Spot将 本地方法栈 与 Java虚拟机栈 合二为一；

Java堆：堆的目的是用来存放对象实例，几乎所有的对象都在这里分配。所有线程共享，Java堆是是垃圾回收器管理的区域。

方法区：是各个线程共享的内存区域，用来存放被虚拟机加载的类型信息、常量、静态变量、即时编译后的代码缓存等数据。

运行时常量池：

直接内存：NIO类引入了一种基于Channel与Buffer的I/O方式，它可以使用Native函数库直接分配堆外内存，通过一个存储在Java堆里面DirectByteBuffer对象作为这块内存的引用进行操作。
